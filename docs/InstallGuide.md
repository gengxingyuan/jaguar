以下安装说明在Ubuntu 16.04上验证.

## 1. 安装docker和k8s
    参考网上相关文档即可,建议k8s 1.10版本及以上版本,docker安装17.03及以上版本

## 2. 安装ovs
   命令 apt-get install openvswitch-switch
   安装完成后,执行ovs-vsctl set-manager ptcp:6641,以便Jaguar连接ovs通过ovsdb进行配置
   
## 3. 安装Jaguar
### 直接拉取镜像启动
    docker pull docker.io/sdnlab/jaguar:0.1.0
    docker run -itd docker.io/sdnlab/jaguar:0.1.0
### 手工启动版本
    首先,解压jaguar版本jaguar-karaf-0.1.0-SNAPSHOT.zip到某个目录下，比如/home/test/
    运行jaguar，即进入目录/home/test/ jaguar-karaf-0.1.0-SNAPSHOT/bin
    执行 ./karaf

### 启动成功后,配置k8s apiserver
    登陆jaguar,即http://jaguar_ip:8181/index.html,默认用户名密码 admin/admin
    打开界面,找到k8s-apiserver-config,点开,再点config
    scheme可以为http 或者 https,为http时,只需要再填写k8s apiserver的ip和port即可,其他配置项可忽略.
    如果 scheme为https,还需要填写如下配置
    其中 token填前面安装k8s apiserver时提示的token
    ca-cert-data,client-cert-data,client-key-data填写k8s apiserver节点的 /etc/kubernetes/admin.conf 里配置的对应信息
    FORM表格填写上述配置项或者直接编辑json文本配置,类似如下
'''PUT http://10.42.88.10:8181/restconf/config/k8s-apiserver-config:k8s-apiserver-config
{
	"scheme": "https",
	"master-ip": "10.42.88.10",
	"port": "6443",
	"token": "vjg2pv.gq6rpn0evvh3o8jt",
	"ca-cert-data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRFNE1Ea3hNekF4TlRRMU1Gb1hEVEk0TURreE1EQXhOVFExTUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT1dtCkk0ZTdtME5lb3ByQkJUT3NCRHNTSHZTSlNCNmxkd24ra3hwU2pUelhDcFRua3dCcHhEVnZHR2pRMnkyaFlLK1QKc01md3Jld1BkR2lmSnA4cGpGc3FZWko0eWJEVEE1aks3M0tUQmFTSDVHakx5bGpEd29UVjBKTU5tV3R5R1J5ZgppVzlxY3J2eG1LTkhSQ2N2UFIzMTNGY1RuRHpqM2J4dHV0eW5sTk4vSCt6MmpDRWlTaHBYUkF1ejBOeU42ZkZ6CnNoZ1pkOGJVaWpqVHpGSVhkSTBkYzFyY2dXdXpzM2RaOGV5RVlZdWk3YXlVT3hVWkdYSDVmNG9SOHRNM3hMU2MKV0Jub0dyd28xNmorRlRxc09QMnNwY2ZIeHB5MXJTMm5ldlZtNEE2ejVDcHBoVjQ3Nmh0dWU3YmZ1YTJrcDVyZAo3RWJMUVlLNFpkRHc4TDRTL1FzQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFEL0hieGpKTWRZSUo1a081eEpMTEJBOWprQkEKU1J3dmQwbllRYXNtNW9mS29tWUg1TXpZQXZ2RytkdmNnWGtqWXJveCtlY0l5Wk5aM1A0R21ueWh0a2ExQWRFbQp1ekFWMzFpZ1FTcGpnVXJyYkMyNGF0TW5NV21kV3paV1llL0NvbGJvdGcxdUkvelZ6OG9BZUxMWFFjTjZYMUJRCkZyWEJWOS8vbHBCQlhIQUZpNkZuU2dIdSt0ek1qYStTUjBpOG02dmgvUWNqZjNtSitVMzNTSUcrOS9ZMHN2YUQKZndXdklDeXFTK0dCMHlLdnF6aVdSM25sT0NNTXpYdndyQ0FnZ3VPUWVRQkQ1RzdVTUdNNXhZTXNGMktVWUhIdQo3dkVQUW5sSENIak0rTUk1R2V6b3FxR0ZRYU44WHphKzJyKzl1REFoenlhTWV4TEIzMDJSZ1doczNpST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=",
	"client-cert-data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUM4akNDQWRxZ0F3SUJBZ0lJU3NQeFV5cmpHaFF3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB4T0RBNU1UTXdNVFUwTlRCYUZ3MHhPVEE1TVRNd01UVTBOVGRhTURReApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1Sa3dGd1lEVlFRREV4QnJkV0psY201bGRHVnpMV0ZrCmJXbHVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVGTFdnbUw5Sm9YbGx0SzAKK0xzem1lNFRBSi9UWUxGdVBIcEd1Q1BzT3llS05UUlVCQTEya0FhendVbWNYK3YxNkZ5eHg1QXpUU2Zaa1pnTQp3S2lobVlwd3NQeHVLcG5YWDIvMG5FR0xpd21hd255eFlPQ1Vod0J3aGlQUzE2a2FYZXk5KzZ6OUNTNHRsWDdCCit0YXEwUS9QMFdsZmhtYTl5dE1DZXl4bmt4UFhTWXM5bjBBaEs3TEc1ZzR5eS9SVDJWenpTbTZoWStuVmx0TmwKNDdjUTZUUkF5YjBrSURrVzVNSGlPQnJuTURoRVpldERlUFhjdy9weTNubmRBQUFDY0Y1N1dJUVEwU1RQckFndApLeVE5ZklwV093QTBjaklMRlBCbnJNcnIrWE9PK2VEcFBIclN2U0hmbCtNaGYxS1lFUGV3Y2lVSzFrSFJtRkw5CnRtRmo1UUlEQVFBQm95Y3dKVEFPQmdOVkhROEJBZjhFQkFNQ0JhQXdFd1lEVlIwbEJBd3dDZ1lJS3dZQkJRVUgKQXdJd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKUllBcytTNmZPTElRMzJvNzRMU1dzRUdkTFRBQy9nVjRkZwphMWhpWWZCcUlrNGl0UGltR2JGaXRmQzNiVkFsQnFBd01YcHdmNDlFVE15d3o5TDJValhCVlBIbnFmVVFlYm5kCkhlMm5GUHAycXZGNVo1Y3Q5Z2lRakRkYmt5RDVxdDJ3L24yTjZ1MEgwRnQ0SnJUMTV4Rk9xR3NmOGZCdjJVNTUKbzZKSzBYWjlLSVBnMFVpSkZpQnVpQi9NaWc1Y0NGNzViZWc3cmRpOU9IUHJ1VkdOd21yVEtwQ2krcG9NbWZkWQpXWVNxd1JTZkkySHI3aEJiL09RRkdOTmQyRVhzTXdhU3NMczBuV3VFa2RrcGoxMjd2SksvSXdSNXZYT2RjaFhRCnIybDkzWGxxMTE5dS9lV2MyRUJyZ3JQN05PRHBNdlNUS0crc1JhRUFiSG9YVC9SK01wbz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=",
	"client-key-data": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBNUZMV2dtTDlKb1hsbHRLMCtMc3ptZTRUQUovVFlMRnVQSHBHdUNQc095ZUtOVFJVCkJBMTJrQWF6d1VtY1grdjE2Rnl4eDVBelRTZlprWmdNd0tpaG1ZcHdzUHh1S3BuWFgyLzBuRUdMaXdtYXdueXgKWU9DVWh3QndoaVBTMTZrYVhleTkrNno5Q1M0dGxYN0IrdGFxMFEvUDBXbGZobWE5eXRNQ2V5eG5reFBYU1lzOQpuMEFoSzdMRzVnNHl5L1JUMlZ6elNtNmhZK25WbHRObDQ3Y1E2VFJBeWIwa0lEa1c1TUhpT0Jybk1EaEVaZXRECmVQWGN3L3B5M25uZEFBQUNjRjU3V0lRUTBTVFByQWd0S3lROWZJcFdPd0EwY2pJTEZQQm5yTXJyK1hPTytlRHAKUEhyU3ZTSGZsK01oZjFLWUVQZXdjaVVLMWtIUm1GTDl0bUZqNVFJREFRQUJBb0lCQVFEUGlRUjJTK2Z6Qmk0awpJNjVma0RsZEoydWFXNnhVN2JKWHdvVlpoejJJbjI0ZTRrdWp5MkVEbFRQNjh4L3lpSlppK1M2WFNObDR2a29pCjd1UllrbThoRXhkUHFJT3lzVmQwNWx5ZlUyeTFtcXRUTU9oQ09LQ0kvYnRLRW5IcG1VbmdLZnFlTXlWbEhOWk8KVm9PWHIxeGczMUIwOXFUZms2L2NGbVRnOVFISVNyNjFOY0JVZ0NvR2ZiTVUyNE5GNWVxUnpUdFRTTk1lY3MybgpvV05RUEhOM2U4V25aaDdnNVoyTFJqdVE0ZUVseWxHK0hEMHM5MHlneHZORHMxbnZ6VXQrSERiNFE1RGlpZnVhCk11dnBYVlhxTzExR2Z5cGxoVFhHMTMrb1BFWTA1Ym81MnNPd2J3UEovWmV0TElsTFFWakkyblRZQWZYNlU3QXgKbWxXaUpzdVpBb0dCQVB3Ym9wNzNEc2hSVDVaU1F3a0pYc2xNTEpMeUdtbVVlVGlzczFqcGE0eFhYSFE2ZVI4NAowN0UwM2x4SzFDdWJBNW9sdGxFVTF4UnFUT1dLSEJiaWN2N0pXWU1DRXVOWjQvMVJDSTBYMnVad0VYMFVBM1FiClgyM2ZKbmNiMHhTWEdlblZuTEdLUTdjUlBRbjVLZlFRaUwzTy8rUy9IQUFrWVN1MDE5dHY0ZFduQW9HQkFPZloKTkNNRWthYXBBSTVoUjFWaHhBZDRzTi9TcEkyWFFWSzlDbEdUVWZUc1E5QzB1UzhlS1MzaWpGbUpzSEVROHdCMAp3OUNaYUNJczg2Uy9lVU1VclBLTkVwUnRtbWNOS1ltVTF4VWc0d3ZZVGM2VXhMbkpjQk9FNUI0alEwS01vUUVECndaWE9OTGUrRXlkcUorVTE0UEpzLzFmbDJvc1RlWEpKcFl0b0QwT1RBb0dCQU1PbC9ySTNNVFdzUklONEc2WHIKcTYrMGVmTWdCL2RmemlONWcwWEJBRUhObW1abzZvNmNYMHpxcHBZaFRENzY4ZlN5eDZaczhlMWFBWXN4ZjFNVApNZ01nNTJLUVBYQksxbkJFYnNwd2RPVFltL25oaWp5VThaNG15NGNzQk1lNTY5WllmRjRiMnlrN0s0K04yazBhCmQ4UTEzTWo4dHhJMUtXUHQySWJuY08rSkFvR0FadUh4eXVCS0tlU3hCSDJTaEFjQVVEaDBkTDRxbTFKVmdIdTIKeW9CUFRCcFQ5WmRjM2RYS2ZEd2QvOVdqNEdpZkRNTEQ2aHRKSkhGQ0pRZDZyaFBNczAxNnd6Ym4zM2J0eWNtcwpzQW1KOTBXak1WcSsrWnEwQzFWYlRTeGt1bkZoT093THlZaFp5SGVtVkVVOU11OTN4Tnd0YXpucWd2Qy9ZY0hnCm5qNHRGOVVDZ1lFQTNCYjlEYk1LWGFqRWNpcGlodVc5a0dab2ROb1M1emM3Z25xRzFXaEl5SzZSU3NkVkdoOWQKRkdteFBTSWtaRFdENm96cDU1b3B6cEk4WllIV3podkl4V1p0eWgwNlhvdGt0MUlja1lVYkd5TTBJd3FyWkFaSwo2NTg0em44TVRNKzBvNFRBSXpZNVJSREdNQVRFTVRqQm9uWjFqdjE2VmhuOHdxUktiZ241L2tJPQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
}'''


## 4. 安装Jaguar CNIPlugin
    以下操作在所有节点上(包括master节点)执行.

    安装依赖的python包
    pip install pyroute2
    pip install requests
    pip install netaddr 
    pip install ConfigParser

	把源码目录CNIPlugin下的python脚本拷贝到k8s的集群节点的/opt/cni/bin目录

    配置文件/etc/cni/net.d/10-jaguar-net.conf
'''{
    "cniVersion": "0.3.1",
	
    "name": "jaguar-net",
	
    "type": "jaguar"
}'''

    配置文件 /etc/jaguar/ip.conf,其中controller_ip即jaguar_ip,port
'''[global]
controller_ip = 192.168.139.10
controller_port = 8181

[local]'''

